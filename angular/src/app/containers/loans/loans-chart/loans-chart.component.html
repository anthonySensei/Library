<div class="container">
    <div class="d-flex flex-wrap">
        <mat-card class="card mr-4">
            <section class="chart-options">
                <mat-form-field style="margin: 1% 1% 0 3%;">
                    <mat-label>Select an option</mat-label>
                    <mat-select
                            [(ngModel)]="model"
                            (ngModelChange)="modelValue = null"
                            required
                    >
                        <mat-option value="user">User</mat-option>
                        <mat-option value="book">Book</mat-option>
                        <mat-option value="librarian" *ngIf="isManager">Librarian</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{ getInputName() }}</mat-label>
                    <input matInput [(ngModel)]="modelValue" [disabled]="!model" />
                </mat-form-field>
                <button
                        style="margin: 0 1%;"
                        mat-stroked-button
                        color="primary"
                        type="button"
                        class="ml-5"
                        matTooltip="Show statistic"
                        [disabled]="!model || !modelValue"
                        (click)="showStatistic()"
                >
                    Show statistic
                </button>
                <mat-divider></mat-divider>
            </section>
            <div class="chart" *ngIf="!isChartEmpty()">
                <ngx-charts-line-chart
                        [view]="view"
                        [scheme]="colorScheme"
                        [legend]="legend"
                        [showXAxisLabel]="showXAxisLabel"
                        [showYAxisLabel]="showYAxisLabel"
                        [xAxis]="xAxis"
                        [yAxis]="yAxis"
                        [xAxisLabel]="xAxisLabel"
                        [yAxisLabel]="yAxisLabel"
                        [timeline]="timeline"
                        [results]="multi"
                >
                </ngx-charts-line-chart>
            </div>
            <div class="d-flex justify-content-center align-items-center h-75" *ngIf="isChartEmpty()">
                <h2>Chart is empty</h2>
            </div>
        </mat-card>
        <mat-card *ngIf="summaryStatistic.length">
            <ngx-charts-number-card
                    [view]="view2"
                    [scheme]="colorScheme2"
                    [results]="summaryStatistic"
                    [cardColor]="cardColor"
            >
            </ngx-charts-number-card>
        </mat-card>
    </div>
</div>
<app-small-screen></app-small-screen>
