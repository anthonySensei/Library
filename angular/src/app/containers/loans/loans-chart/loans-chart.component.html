<div class="card">
    <section class="chart-options">
        <mat-form-field style="margin: 1% 1% 0 3%;">
            <mat-label>Select an option</mat-label>
            <mat-select
                [(ngModel)]="model"
                (ngModelChange)="modelValue = null"
                required
            >
                <mat-option value="user">Student</mat-option>
                <mat-option value="book">Book</mat-option>
                <mat-option value="librarian" *ngIf="isManager"
                    >Librarian</mat-option
                >
                <mat-option value="department" *ngIf="isManager"
                    >Department</mat-option
                >
            </mat-select>
        </mat-form-field>
        <mat-form-field *ngIf="model !== 'department'">
            <mat-label>{{ getInputName() }}</mat-label>
            <input matInput [(ngModel)]="modelValue" [disabled]="!model" />
        </mat-form-field>
        <mat-form-field *ngIf="model === 'department'">
            <mat-label>Address</mat-label>
            <mat-select name="address" [(ngModel)]="modelValue">
                <mat-option
                    *ngFor="let department of departments"
                    [value]="department.id"
                >
                    {{ department.address }}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <button
            style="margin: 0 1%;"
            mat-stroked-button
            color="primary"
            type="button"
            class="ml-5"
            matTooltip="Show statistic"
            [disabled]="!model || !modelValue"
            (click)="showStatistic()"
        >
            Show statistic
        </button>
        <mat-divider></mat-divider>
    </section>
    <div class="chart">
        <ngx-charts-line-chart
            [view]="view"
            [scheme]="colorScheme"
            [legend]="legend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [xAxisLabel]="xAxisLabel"
            [yAxisLabel]="yAxisLabel"
            [timeline]="timeline"
            [results]="multi"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
        >
        </ngx-charts-line-chart>
    </div>
</div>
<app-small-screen></app-small-screen>
